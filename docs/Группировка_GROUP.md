---
title: 'Группировка (GROUP)'
---

Оператор *группировки* создает [свойство](Свойства.md), которое разбивает все наборы объектов в системе на группы, и с учетом заданного порядка вычисляет для каждой такой группы [агрегирующую функцию](Операции_с_множествами.md#агрегирующие-функции). Соответственно, множество, на котором вычисляется эта агрегирующая функция, определяется как все наборы объектов, принадлежащие данной группе. 

Группы в этом операторе задаются как множество свойств (*группировок*), порядок задается как список свойств и признак возрастания или убывания. Если агрегирующая функция не [коммутативна](Операции_с_множествами.md#commutative-broken), то порядок должен быть однозначно определяемым. 

Однозначно определяемого порядка можно гарантированно добиться, если при задании порядка, например, указать идентификаторы всех объектов, для которых выполняется группировка

Кроме стандартных видов агрегирующих функций для группировки есть три дополнительных вида: **EQUAL**, **AGGR** и **NAGGR**.

-   **EQUAL **является частным случаем агрегирующей функции **MAX** (или **MIN**), добавляя [ограничение](Ограничения.md) на одинаковость значения операнда агрегирующей функции внутри каждой группы. 
-   **AGGR** и **NAGGR ** являются частным случаем **EQUAL**, но с еще более строгим ограничением: для каждой группы существует не более одного набора объектов, операнд агрегирующей функции является одним из объектов, а группировки включают в себя все остальные объекты. Агрегирующая функция NAGGR отличается от AGGR только тем, что в случае ее использования не создается ограничение (предполагается, что это ограничение следует из семантики самих свойств операндов и/или группировок).

### Язык

Для объявления свойства, реализующего группировку, используется [оператор **GROUP**](Оператор_GROUP.md).

### Примеры

import {CodeSample} from './CodeSample.mdx'

<CodeSample url="https://documentation.lsfusion.org/sample?file=OperatorPropertySample&block=group"/>
