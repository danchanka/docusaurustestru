---
title: 'Инструкция WHEN'
---

Инструкция **WHEN** - добавление обработчика [простого события](Простые_события.md).

### Синтаксис 

    WHEN eventClause eventExpr [ORDER [DESC] orderExpr1, ..., orderExprN] DO eventAction;

### Описание

Инструкция **WHEN** добавляет обработчик простого события. В выражении условия можно неявно объявлять локальные параметры, которые затем могут быть использованы в обработчике события.

Также с помощью блока **ORDER** можно установить порядок, в котором будет вызываться обработчик для наборов объектов, для которых выполнилось условие простого события. 

Использование инструкции **WHEN** во многом аналогично следующей инструкции:

    ON eventClause FOR eventExpr [ORDER [DESC] orderExpr1, ..., orderExprN] DO eventAction;

но при этом имеет [ряд преимуществ](Простые_события.md).

### Параметры

*eventClause*

[Блок описания события](Блок_описания_события.md). Описывает [базовое событие](События.md) для создаваемого обработчика.

*eventExpr*

[Выражение](Выражения.md), значение которого используется в качестве условия создаваемого простого события. Если полученное свойство не содержит внутри [оператора **PREV**](Предыдущее_значение_PREV.md), то платформа автоматически оборачивает его в [оператор **CHANGE**](Изменение_свойства_CHANGE.md)**.**

*eventAction*

[Контекстно-зависимый оператор](Операторы-действия.md#контекстно-зависимые-операторы), описывающий действие, которое будет добавлено в качестве обработчика события.

*DESC*

Ключевое слово. Указывает на обратный порядок просмотра наборов объектов. 

*orderExpr1, ..., orderExprM*

Список выражений, определяющих порядок, в котором будут вызываться обработки для наборов объектов, для которых выполнилось условие события. Для определения порядка сначала используется значение первого выражения, затем при равенстве используется значение второго и т.д. 

### Примеры

import {CodeSample} from './CodeSample.mdx'

<CodeSample url="https://documentation.lsfusion.org/sample?file=InstructionSample&block=when"/>

**  
**
