---
title: 'Оператор EXPORT'
---

Оператор **EXPORT** - создание [действия](Actions.md), экспортирующего[ заданные свойства](Data_export_EXPORT_.md) в файл, или, в общем случае, [открывающего форму](In_a_structured_view_EXPORT_IMPORT_.md) в структурированном представлении. 

### Синтаксис

    EXPORT [exportFormat] [TOP n] FROM [columnId1 =] propertyExpr1, ..., [columnIdN = ] propertyExprN [WHERE whereExpr] [ORDER orderExpr1 [DESC], ..., orderExprL [DESC]] [TO propertyId]
    EXPORT formName [OBJECTS objName1 = expr1, ..., objNameK = exprK] [exportFormat] [TOP n] [TO (propertyId | (groupId1 = propertyId1, ..., groupIdN = propertyIdM))]

*exportFormat* может задаваться одним из следующих вариантов:

    JSON [CHARSET charsetStr]
    XML [ATTR] [CHARSET charsetStr]
    CSV [separator] [HEADER | NOHEADER] [ESCAPE | NOESCAPE] [CHARSET charsetStr]
    XLS [HEADER | NOHEADER]
    XLSX [HEADER | NOHEADER]
    DBF [CHARSET charsetStr]
    TABLE

**  
Описание**

Оператор **EXPORT** создает действие, которое экспортирует данные из заданных свойств или заданной формы в файл. Поддерживаются следующие форматы файлов: **XML**, **JSON**,** **CSV****, **XLS**, **XLSX**, **DBF**, **TABLE**. 

Если* *формат экспортируемого файла* *не задан, то он считается равным **JSON**.

Если классом значения свойства, в которое экспортируются данные, является класс **FILE**, то расширение результирующего файла в зависимости от формата определяется следующим образом:

|<p>Формат</p>|<p>Расширение</p>|
|---|---|
|<strong>JSON</strong>|json|
|<strong>XML</strong>|xml|
|<strong>CSV</strong>|csv|
|<strong>XLS</strong>|xls|
|<strong>XLSX</strong>|xlsx|
|<strong>DBF</strong>|dbf|
|<strong>TABLE</strong>|table|

При экспорте формы в блоке **OBJECTS** можно объектам формы добавлять дополнительные фильтры на равенство этих объектов [переданным значениям](Open_form.md#params). Также эти объекты [не будут участвовать](Structured_view.md#objects-broken) в построении иерархии групп объектов.

### Параметры

### *Источник экспорта*

*formName*

Имя формы, из которой необходимо экспортировать данные. [Составной идентификатор](IDs.md#cid-broken).

*objName1 ... objNameK*

Имена объектов формы, для которых задаются фильтруемые (фиксированные) значения. [Простые идентификаторы](IDs.md#id-broken).

*expr1 ... exprK*

[Выражения](Expression.md), значения которых определяют фильтруемые (фиксированные) значения для объектов формы.

*propertyExpr1, ..., propertyExprN*

Список [выражений](Expression.md), из значений которых экспортируются данные. Каждому свойству ставится в соответствие колонка таблицы результирующего файла.

*columnId1, ..., columnIdN*

Список идентификаторов колонок в результирующем файле, в которые будут переноситься данные из соответствующего свойства. Каждый элемент списка задается либо [простым идентификатором](IDs.md#id-broken), либо [строковым литералом](Literals.md#strliteral-broken). Если идентификатор не задан, он по умолчанию считается равным expr<Номер колонки\>.

*whereExpr*

Выражение, значение которого является условием создаваемого экспорта. Если не задано, считается равным [дизьюнкции](Logical_operators_AND_OR_NOT_XOR_.md) всех экспортируемых свойств (то есть хотя бы одно из свойств должно быть не **NULL**).

*orderExpr1, ..., orderExprL*

Список [выражений](Expression.md), по которым производится сортировка экспортируемых данных. Могут использоваться только свойства, присутствующие в списке *propertyExpr1, ..., propertyExprN. *

*DESC*

Ключевое слово. Указывает на обратный порядок сортировки. По умолчанию используется сортировка по возрастанию.

### *Формат экспорта*

*ATTR*

Ключевое слово, указывающее на экспорт значений в атрибуты родительского тега. Если не указывается, то значения экспортируются в дочерние теги. Применяется только для экспорта в **XML**.

*separator*

Разделитель в **CSV** файле. [Строковый литерал](Literals.md#strliteral-broken). Если не указывается, то по умолчанию берётся разделитель '**;**'.

*HEADER | NOHEADER*

Ключевые слова, указывающие на присутствие (HEADER) или отсутствие (NOHEADER) в **CSV**, **XLS**, **XLSX** файле строки заголовка. По умолчанию используется NOHEADER.

При использовании опции NOHEADER:

-   -   если имя колонки одно из предопределенных (A, B, ..., Z, AA, ...,  AE), то оно экспортируются в колонку с соответствующем номером, и при этом следующие колонки экспортируются в колонки следующие по порядку за этой колонкой.

*ESCAPE | NOESCAPE*

Ключевое слово, указывающее на присутствие (ESCAPE) или отсутствие (NOESCAPE) в **CSV** файле экранирования спецсимволов(\\r, \\n, " (двойные кавычки) и указанного разделителя (*separator*). NOESCAPE имеет смысл использовать, только в случаях, когда в данных гарантировано не будет заданного разделителя. По умолчанию используется ESCAPE.

*CHARSET charsetStr*

Опция, указывающая кодировку, используемую при экспорте.

charsetStr - строковый литерал, определяющий кодировку. 

*TOP n*

Экспортирует только первые n записей. [Целочисленный литерал](Literals.md).

### *Назначение экспорта*

*propertyId*

[Идентификатор свойства](IDs.md#propertyid-broken), в которое будет записан сформированный файл. У этого свойства не должно быть параметров и класс его значения должен быть файловым (**FILE**, **RAWFILE**, **JSONFILE** и т.д.). Если это свойство не указано, то по умолчанию используется свойство **System.exportFile**.

*groupId1, ..., groupIdM*

Имена групп объектов экспортируемой формы, для которых необходимо экспортировать данные. [Простые идентификаторы](IDs.md#id-broken). Используется только для экспорта формы в плоские форматы.

### propertyIdM *, ..., *propertyIdM

[Идентификаторы свойств](IDs.md#propertyid-broken), в которые будут записаны сформированные файлы для заданных групп объектов. У этих свойств не должно быть параметров и классы их значений должны быть файловыми (**FILE**, **RAWFILE**, **JSONFILE** и т.д.). Используется только для экспорта формы в плоские форматы. Для [пустой группы](Static_view.md#empty) объектов используется имя **root**. 

### Примеры


import {CodeSample} from './CodeSample.mdx'

<CodeSample url="https://ru-documentation.lsfusion.org/sample?file=ActionSample&block=exportplain"/>

<CodeSample url="https://ru-documentation.lsfusion.org/sample?file=ActionSample&block=export"/>

  

  
