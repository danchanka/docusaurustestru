import CodeBlock from '@theme/CodeBlock';
import {useState, useEffect} from 'react';

export const CodeSample = ({url, lines}) => {
  const [content, setContent] = useState('')
  useEffect(() => {
    fetch(url).then(response => response.text())
              .then(content => setContent(content))
  }, [url, setContent])
  if (!content) return (<CodeBlock className='lsf'>loading...</CodeBlock>)
  if (!lines) return (
    <>
      <CodeBlock className='lsf'>{content}</CodeBlock>
      <br/>
    </>  
  )
  return (
    <>
      <CodeBlock className='lsf' metastring={lines}>{content}</CodeBlock>
      <br/>
    </>
  )    
};
